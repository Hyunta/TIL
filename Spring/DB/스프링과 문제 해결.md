프레젠테이션 계층 - UT와 관련된 처리 담당

서비스 계층 - 비지니스 로직을 담당 : 가급적 특정 기술에 의존하지 않고, 순수 자바 코드로 작성

데이터 접근 계층 - 실제 DB에 접근하는 코드



가장 중요한 곳은 핵심 비지니스 로직이 들어있는 서비스 계층이다.

서비스 계층이 특정 기술에 종속적이지 않게 개발해야 한다.

HTTP API를 쓰다가 다른 기술로 변경해도 프레젠테이션 레이어로 변경하면 된다.



### 트랜잭션 문제

JDBC 구현 기술이 서비스 계층에 누수되는 문제

- 트랜잭션을 적용하기 위해 JDBC 구현 기술이 서비스 계층에 누수되었다.

서비스 계층은 특정 기술에 종속되지 않아야 한다.

트랜잭션 동기화 문제

- 같은 트랜잭션을 유지하기 위해서 커넥션을 파라미터로 넘겨야 한다.

트랜잭션 적용 반복 문제

- try,catch,finallly 뻔한 코드가 반복된다...

### 예외 누수 문제

`throws SQLException` 은 체크 예외이기 때문에 데이터 접근 계층을 호출한 서비스 계층에서 예외를 잡거나 throws를 해야한다.

`SQLException`은 JDBC 전용 기술이다

### JDBC 반복 문제

지금까지 작성한 MemberRepository 코드는 순수한 JDBC를 사용했다.



### 트랜잭션 추상화와 동기화

`Transaction Manager` 추상화를 통해 OCP를 DI로 해결한다

커넥션과 세션,