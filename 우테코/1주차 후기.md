### 1주차 고민 사항

1. 패키지 구조
2. 예외 처리
3. 클린코드?

---

### 1. 패키지 구조

숫자야구 프로젝트를 진행하고 다른 분들의 코드를 읽어보다 패키지 구조를 어떻게 가져가는게 좋을까하는 고민을 하게되었다. 나는 기본적인 구조에서 constant 패키지만 생성해서 에러메시지와 입출력 메시지를 관리하는 Message클래스와 입력하는 숫자의 범위와 길이 등 규칙을 관리하는 Rule 클래스를 넣어두었다.

```
├─main
│  └─java
│      ├─baseball
│      └─constant
└─test
    └─java
        └─baseball
```

하지만 참가자들중 MVC 패턴을 이용해서 controller,domain,view 를 나누어서 진행하신 분들도 있었고 기능별로 나눠서 설계하신분도 있었다. 개인적으로 프로젝트 규모가 크지 않아서 굳이 나눠야하나 생각했는데 막상 나눠진 것을 봤을 때 깔끔하다는 생각이 들었다. 효율적인 구조에 대해 고민을 하다 구글링을 통해 패키지 구조에 대한 공부를 했다.

---

패키지 구조는 크게 계층 우선 구조, 모듈 우선 구조 두 가지로 나눌 수 있다.

#### 계층(layer) 우선

```java
net.slipp.domain.modulename
net.slipp.service.modulename
net.slipp.dao.modulename
net.slipp.web.modulename
```

특징: 도메인 모델 주도 개발에 적합하다.

장점: 각 패키지간의 cyclic dependency



#### 모듈(feature) 우선

```java
net.slipp.modulename.domain
net.slipp.modulename.service
net.slipp.modulename.dao
net.slipp.modulename.web
```

특징: 개발자별로 기능 단위 개발을 하는 경우 주로 발생한다.

장점: 모듈 단위로 분리할 때 유리하다.

---

찾아본 결과 정답은 없고 각자의 취향 혹은 팀원들의 규칙에 따라 가는 것 같다.

하지만 미션으로 나오는 과제들은 구현해야할 기능이 많지 않기 때문에 모듈 우선 구조로 설계하게되면 필요 이상으로 패키지가 많이 생기게된다. 따라서 계층 우선 구조로 설계를 하기로 결정하는게 좋을 것 같다.

MVC 패턴에 대해서 조금 생각해봐야겠다. 1주차는 구현해야 할 기능에 비해 구조가 과하다고 생각했는데 2주차 과제부터 도메인이 많아지거나 구조가 복잡해진다면 도입해볼 생각이다.

참고:

https://slipp.net/questions/36

 http://www.javapractices.com/topic/TopicAction.do?Id=205



### 2. 예외처리

```java
public class Validation {
	public static void checkRestartInput(String request) {
		if (!request.equals("1") && !request.equals("2")) {
			throw new IllegalArgumentException(ERROR_REQUEST_INPUT);
		}
	}
```

위 코드는 1주차 숫자야구 미션에서 재시작 입력값을 예외처리한 메서드다.

>  "재시작을 원한다면 1을 입력하고, 종료를 원한다면 2를 입력해라."

불만족스러웠지만 다른 방법이 생각이 안나서 우선 1,2를 제외한 입력을 받았을 때  `IllegalArgumentException` 를 발생시키는 방법을 택했다. 그리고 클린코드 7장. 오류 처리를 통해 오류 코드보다는 예외를 사용하라는 도움을 받아 2주차 부터는 try-catch 구문으로 오류를 처리해보려고 한다.



### 3. 클린코드?

큰 고민 사항은 위 두 항목이었지만, 사실 코드를 짜는 모든 과정에서 고민이 생겼다. 어떻게 하면 더 쉽게 읽힐 수 있을까? 어떻게 하면 구조가 한눈에 들어올까 고민을 했다. 도움을 얻기 위해 클린코드 책에서 필요한 부분들을 찾아서 읽고, 구조에 대한 고민이 시작됐다. 한 주 동안 코드를 모르는 사람이 봐도 내 코드를 이해할 수 있도록 간단하게 구현하려고 노력했고 매일매일 나아지는 것을 느꼈다. 클린코드를 읽으며 예외처리, 변수명에 대해서 고민했고, 함수가 한가지의 기능에 책임질 수 있도록 설계하려고 했다.

> 소프트웨어를 짜는 행위는 여느 글짓기와 비슷하다. 먼저 생각을 기록한 후 읽기 좋게 다듬는다. 초안은 대개 서투르고 어수선하므로 원하는 대로 읽힐 때까지 말을 다듬고 문장을 고치고 문단을 정리한다.

이 말이 나에게 와닿았다. 첫 과제라 기능 구현에서 큰 어려움은 없었지만 가독성이 있는 코드를 작성하기 위해 노력했다.











