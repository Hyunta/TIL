![image-20230504110646135](images/image-20230504110646135.png)



## 문제점

- 서버 개수가 바뀔 때 마다 데이터 서버 위치에 재배치가 일어남

  -> 이를 해결하기 위해서 Consistent Hashing을 사용한다



![image-20230504111113215](images/image-20230504111113215.png)

해시링 내부에서 자기보다 큰 값 중 가장 가까운 서버에 저장한다.

하지만 여전히 서버가 추가될 때 대량의 데이터가 이동하는 상황이 있다.

그래서 가상 노드를 사용한다.



![image-20230504111249361](images/image-20230504111249361.png)