동기로 사용하게 되면 쓰레드가 일을 계속 처리해야한다.

컨텍스트 스위칭이 발생한다.

T1 -> T2 / 현재까지 실행된 정보를 저장하고, T2의 실행할 지점을 로딩한다

고부하 상황에서 문제가 발생할 수 있다.

클라이언트 당 쓰레드를 생성하면:

- IO 대기로 인한 CPU 낭비 증가
- 쓰레드 증가 : 컨텍스트 스위칭 비용 증가, 메모리 사용 증가
- 자원 사용 급증, 처리량 향상 제한, 동시 접속 가능 수 제한



## 비동기 IO

IO가 끝나길 대기하지 않음

IO가 완료되면 콜백 형태로 결과를 받음

- IO 처리에는 고정된 개수의 쓰레드 사용



자원 효율 증가

- IO에 따른 대기시간 없음
- 쓰레드 개수 일정하게 유지: 메모리 효율, CPU 효율
- 더 적은 자원으로 더 많은 클라이언트 처리 가능



단점

- 비동기 처리에 따른 복잡도 증가
  1. 코드 복잡해짐 - 콜백
  2. 디버깅 어려워짐 - 실행 시점이 다름
- 대량 트래픽이 아니면 효과 적음
- IO 위주 처리가 아니면 효과 적음
- 동기와 비동기가 섞이면 안됨